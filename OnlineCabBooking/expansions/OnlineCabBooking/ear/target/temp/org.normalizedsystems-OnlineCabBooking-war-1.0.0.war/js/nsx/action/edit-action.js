define(["require","exports","knockout","nsx/nsx-data","nsx/triggers","nsx/error/error-trigger"],(function(e,r,s,i,t,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defineEditAction=void 0,r.defineEditAction=function(e,r){r=r||{};var o=s.observable({}),g=s.observable(!1),a=s.observableArray([]),c=s.observableArray([]),u=s.observable({}),f=t.defineTrigger(),d=t.defineTrigger(),l=t.defineTrigger(),b=n.defineTrigger({subject:e.element.getQualifiedName()+".edit"});function v(){o({}),g(!1),a([]),c([]),u({})}function E(e){g(e.success),e.success?function(e){v(),o(e.value),a(e.messages),d.trigger()}(e):function(e){v(),c(e.errorMessages),u(e.fieldErrorMap),l.trigger(),b.errors(e.errorMessages)}(e),f.trigger()}return e.trigger.subscribe((function(){var r=s.toJS(e.instance);i.saveDetails(e.element,r).then(E)})),{result:o,success:g,messages:a,errorMessages:c,fieldErrorMap:u,completeEvent:f,successEvent:d,errorEvent:l}}}));