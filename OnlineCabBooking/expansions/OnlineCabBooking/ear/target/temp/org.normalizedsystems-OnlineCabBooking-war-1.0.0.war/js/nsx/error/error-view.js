define(["require","exports","knockout","nsx/util/utils","nsx/error/error-levels","nsx/error/error-trigger","nsx/triggers"],(function(e,r,i,t,n,o,s){"use strict";function l(e){return e===n.info?"alert-info":e===n.warn?"alert-warn":"alert-error"}function u(e){var r=n[e.level];if(t.isNotDefined(r))throw"Error level '"+e.level+"' is not defined";return r}function c(e,r){r=r||{};var n=e.level,u=e.priority,c=!t.isDefined(r.active)||r.active,v=i.observableArray([]),a=s.defineTrigger();return o.defineHandler({level:n,priority:u}).subscribe((function(e,t){return!(!i.unwrap(c)||!e)&&(v.push(function(e,i){var t={content:e,cssClass:l(i),ttl:r.timeToLive||-1,close:void 0};return t.close=function(){v.remove(t)},t}(e,t)),!0)})),a.subscribe((function(){v.removeAll()})),{messages:v,clear:a}}Object.defineProperty(r,"__esModule",{value:!0}),r.defineErrorView=void 0,r.defineErrorView=c,i.components.register("error-alerts",{viewModel:function(e){return c({level:u(e),priority:e.priority},{active:e.active,timeToLive:e.timeToLive})},template:{require:"text!html/nsx/knockout/errorMessages.html"}})}));