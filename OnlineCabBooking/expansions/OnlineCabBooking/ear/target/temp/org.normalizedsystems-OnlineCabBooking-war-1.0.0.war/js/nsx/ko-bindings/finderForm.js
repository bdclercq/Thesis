define(["require","exports","jquery","knockout","nsx/nsx-application","nsx/nsx-utils","nsx/nsx-detail"],(function(e,n,i,t,r,o,d){"use strict";function l(e,n,l,s,a){var m,u=n();m=t.isObservable(u)?{finder:u}:u;var p=i(e),f=t.unwrap(m.finder);if(f&&f.name){var c,F,g,v,x=s.element,M=(c=x,F=f.name,g=c.getElementName()+o.firstToUpperCase(F),v=c.getComponentName(),r.getElement(v,g)),b=m.hiddenFields||[],h=i.map(b,(function(e){return x.getElementName()+"."+e}));d.getForm(M,(function(e){var n,i=m.details||{},r=e.mapper;r.jsToFormModel?n=r.jsToFormModel(t.toJS(i),j):n={detailModel:r.jsToViewModel(t.toJS(i)),isFieldVisible:j,isFieldEnabled:function(){return!0},editMode:void 0};s.setFormModel(n),s.setFinderElement(M),p.html(e.template),t.applyBindings(n,p.children()[0]),p.show()}))}else p.hide();function j(e){return i.inArray(e,h)<0}}Object.defineProperty(n,"__esModule",{value:!0}),t.bindingHandlers.finderForm={init:l,update:l}}));