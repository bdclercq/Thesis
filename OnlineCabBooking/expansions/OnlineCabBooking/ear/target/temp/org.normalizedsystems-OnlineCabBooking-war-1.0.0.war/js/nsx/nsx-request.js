define(["require","exports","jquery","nsx/nsx-application"],(function(e,o,t,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.postDelete=o.postModify=o.postSave=o.postPerformCommand=o.postPerformTask=void 0;var n={csrfProtection:!1};try{t.ajax({url:r.getResourceUrl("json/nsx/security-options.json"),mimeType:"application/json",dataType:"json"}).done((function(e){n=e}))}catch(e){console.error(e)}function s(e){return n&&n.csrfProtection?function(e){var o=t.Deferred();return function(e){var o=r.getApplicationUrl()+"/request-nonce-json";t.ajax({method:"GET",url:o}).then((function(o){if(o.success){var t=o.value;e(t)}}))}((function(r){e.type="POST",e.url=function(e,o){return o=encodeURIComponent(o),-1==e.indexOf("?")?e+"?"+"request="+o:e+"&"+"request="+o}(e.url,r),t.ajax(e).then(o.resolve,o.reject)})),o.promise()}(e):function(e){return e.type="POST",t.ajax(e)}(e)}o.postPerformTask=s,o.postPerformCommand=s,o.postSave=s,o.postModify=s,o.postDelete=s}));