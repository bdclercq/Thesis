"use strict";define(["require","jquery","nsx/view/fieldMarkupBuilder"],(function(r,a,e){function t(r,e){var t=e.getMarkup(r),i="fields."+r.name,n=a("<span/>");n.attr("data-bind","with: "+i);var d=a("<div class='control-group' data-bind='visible: visible'></div>"),l=a("<label class='control-label'></label>");l.attr("data-bind","translate: '"+r.qualifiedName+"'");var s,o,u=a("<div class='controls'></div>");return u.html(t),u.append((s=a("<div data-bind='visible: hasErrors' class='alert alert-error' style='display: none;'/>"),o=a("<ul data-bind='with: errors'><li data-bind='text: $data'></li></ul>"),s.append(o),s)),d.append(l),d.append(u),n.append(d),n}function i(r,e,i){var n=a("<fieldset/>"),d=a.map(r,(function(r){return t(r,e)}));return i.submit&&d.push(function(){var r=a("<button class='btn'>");r.attr("data-bind","click: submit, translate: 'ns.confirm'");var e=a("<div class='controls'></div>");return e.html(r),e}()),n.append(d),n}function n(r,e,t){var n=a("<form class='form-horizontal'/>"),d=i(r,e,t);return n.append(d),n}function d(r,a){var t=(a=a||{}).markupBuilder||e.createEditBuilder();return n(r.getFields(),t,a)[0]}return{createFieldSet:i,createForm:n,createFromFieldProvider:d,createFromProjection:d,createFromCommand:d}}));