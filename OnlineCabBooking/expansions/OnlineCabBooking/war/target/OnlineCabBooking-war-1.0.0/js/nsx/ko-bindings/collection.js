"use strict";define(["knockout","jquery","nsx/nsx-list-model","nsx/nsx-dialog","nsx/nsx-utils","nsx/nsx-translation","require"],(function(n,t,e,i,l,a,o){function s(n){return e.createListModel(function(n){return{getPage:function(t,e,i){var l=t*e,a=l+e,o=n.slice(l,a);i(Math.ceil(n.length/e),o)}}}(n))}n.bindingHandlers.collection={update:function(e,r){var c=r(),u=n.utils.unwrapObservable(c.field);if(u){var f=t.map(u.slice(0,3),(function(n){return t("<li/>").text(n.name)}));if(u.length>3){var x=t("<a><i class='icon-external-link'></i></a>");x.click((function(){!function(t,e){var r=s(t),c={title:n.observable("not translated"),listModel:r};o(["text!html/nsx/knockout/collectionView.html"],(function(n){i.popupDialog(n,c),r.gotoFirstPage()})),e&&a.getTranslation(e,(function(n){n=l.firstToUpperCase(n),c.title(n)}))}(u,c.name)}));var d=t("<li/>");d.html(x),f=f.concat(d)}var g=t("<ul>").append(f);t(e).html(g)}else t(e).text("-")}}}));