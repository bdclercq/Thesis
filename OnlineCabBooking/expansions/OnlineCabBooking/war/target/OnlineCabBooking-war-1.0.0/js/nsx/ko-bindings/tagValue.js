"use strict";define(["jquery","knockout","nsx/nsx-application","nsx/nsx-data","nsx/nsx-actions","nsx/nsx-list-model","nsx/nsx-dropdown","require"],(function(n,t,e,o,i,a,u,r){var l=e.getElement("utils","tagValuePair"),d=[];function s(n,e,i){var u,r,s;r=function(n){var o=a.createListModel(function(n){return{getPage:function(t,e,o){o(1,n)}}}(n));o.isSelectedItem=function(n){var o=t.utils.unwrapObservable(e);return o&&o===n.value},i(o)},(s=d[u=n])?r(s):o.find({element:l,searchMethod:"findByTagEq",details:{tag:u},page:0,rowsPerPage:100}).then((function(n){var t=n.list;d[u]=t,r(t)}))}function c(t){var e=n(t);t.disabled?function(n){n.find("input").attr("disabled","disabled"),n.find(".searchButton,.dropDownButton,.clearButton").hide()}(e):function(n){n.find("input").removeAttr("disabled"),n.find(".searchButton,.dropDownButton,.clearButton").show()}(e)}t.bindingHandlers.tagValue={init:function(e,o,i,a,l){var d=o(),f=d.field,p=n(e);r(["text!html/nsx/knockout/selectDropdown.html"],(function(n){p.html(n);var o=p.find("input"),i=t.utils.unwrapObservable(f);o.val(i);var a={createListModel:function(n,t){return s(d.tag,f,t)},control:p,input:o,autoComplete:function(n,t,e){e()},update:function(n){f(n.value)},dropDownTemplate:"text!html/nsx/knockout/dropDownTagValue.html"},r=u.createDropDown(a);p.find(".dropDownButton").click((function(n){n.stopPropagation(),r.toggle()})),p.find(".clearButton").click((function(n){n.stopPropagation(),f(null)})),c(e)}))},update:function(e,o,i,a,u){var r=t.utils.unwrapObservable(o().field);n(e).find("input").val(r),c(e)}}}));