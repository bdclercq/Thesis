define(["require","exports","jquery","nsx/nsx-component","nsx/nsx-element"],(function(e,n,t,o,r){"use strict";var i,a,s;function c(){return void 0===a&&(a=window.location.pathname.split("/")[1]),a}function l(){return void 0===s&&(s=window.location.protocol+"//"+window.location.host),s}function u(){return void 0===i&&(i=l()+"/"+c()),i}Object.defineProperty(n,"__esModule",{value:!0}),n.getElement=n.getTranslation=n.getResourceUrl=n.getComponentUrl=n.getApplicationUrl=void 0,n.getApplicationUrl=u,n.getComponentUrl=function(e){var n;if("string"==typeof e)n=e;else if(e instanceof o.Component)n=e.getComponentName();else{if(!(e instanceof r.Element))throw"getComponentUrl expects a componentName, a Component or an ElementDescription";n=e.getComponent().getComponentName()}return i+"/"+n},n.getResourceUrl=function(e){var n=!!e&&0===e.indexOf("/");return(!!e&&e.indexOf(c())>=0?l():u())+(n?"":"/")+e};var f={};n.getTranslation=function(e){if(f[e])return f[e];var n="[translation not found]";return t.ajax({url:i+"/translate-json",data:{key:e},async:!1,success:function(t){t.success&&(n=t.value,f[e]=n)}}),n},n.getElement=function(e,n){var t;if(!n){if(!((t=e.indexOf("."))>0))throw"specify either componentName and elementName or a qualifiedName";n=e.substring(t+1),e=e.substring(0,t)}return o.getComponent(e).getElement(n)},i=u()}));