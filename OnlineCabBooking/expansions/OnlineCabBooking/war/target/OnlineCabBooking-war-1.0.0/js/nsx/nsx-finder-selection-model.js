"use strict";define(["require","knockout","nsx/nsx-meta","nsx/nsx-find-model","nsx/nsx-detail"],(function(e,n,i,r,t){return{createFinderSelectionModel:function(e,r){var d,s,o={};return r.selectFinder,o.element=e,o.selectedFinder=n.observable(),o.hasFinder=n.computed((function(){var e=o.selectedFinder();return e&&e.name})),o.setFormModel=function(e){d=e},o.setFinderElement=function(e){s=e},o.submit=function(){t.getMapper(s,(function(e){var n=e.viewModelToJS(d.detailModel);r.setFinder&&r.setFinder(o.selectedFinder(),n)}))},o.resetFinder=function(){r.resetFinder&&r.resetFinder()},o.enableSelector=n.observable(!0),o.hiddenFields=r.hiddenFields||[],r.finders?o.finders=r.finders:(o.finders=n.observableArray(),i.getFinders(e,(function(e){$.each(e.list,(function(e,n){o.finders.push(n)}))}))),o}}}));