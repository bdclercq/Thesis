"use strict";define(["jquery","nsx/nsx-actions"],(function(n,t){function e(t){switch(t.type){case"menu":return e=t,r=n("<li class='dropdown'/>"),(u=n("<a class='dropdown-toggle' data-toggle='dropdown'/>")).html(e.title+" <b class='caret'></b>"),r.append(u),r.append(a(e.items,"dropdown-menu")),r;case"item":return function(t){var e=n("<a/>").attr("href",t.url);e.text(t.title);var a=n("<li/>");return a.append(e),a}(t);case"separator":return n("<li class='divider'/>");default:return"<span>unknown entry</span>"}var e,r,u}function a(t,a){var r,u,o=n("<ul/>");for(o.addClass(a),r=0;r<t.length;r++)u=e(t[r]),o.append(u);return o}function r(t,e){var r=a(t,"nav");n("#"+(e=e||"menu")).html(r)}return{attachMenu:r,loadAndAttachMenu:function(e,a){var u=t.getApplicationAction("menu-json"),o={menu:e};n.get(u,o,(function(n){r(n.list,a)}))}}}));