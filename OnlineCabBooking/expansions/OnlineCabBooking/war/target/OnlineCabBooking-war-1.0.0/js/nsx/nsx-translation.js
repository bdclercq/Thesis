define(["require","exports","nsx/nsx-application","jquery"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTranslation=void 0;var o=a.getApplicationUrl()+"/translate-json",u={};function i(e,t){var a=function(e){var t=e?e.toLowerCase():"default";return u[t]||(u[t]={}),u[t]}(t);return a[e]||(a[e]={status:"not_loaded",waitQueue:[]}),a[e]}function r(e,t){e.translation=t,e.status="loaded";for(var a=0,n=e.waitQueue;a<n.length;a++){(0,n[a])(t)}}t.getTranslation=function(e,t,a){var u=i(e,a);switch(u.status){case"loaded":return void t(u.translation);case"loading":return void u.waitQueue.push(t);case"not_loaded":return u.status="loading",u.waitQueue.push(t),void function(e,t,a){n.get(o,{key:e,language:t?t.toLowerCase():void 0},(function(e){if(e.success){var t=e.value;r(a,t)}else r(a,"")}))}(e,a,u)}}}));